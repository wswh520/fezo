
系统构建
1、账号体系
	1)预置教育局管理员账号
	2)教育局管理员添加教育局用户账号
	3)教育局用户添加学校并指定其管理员账号
	4)学校管理员添加学生账号
2、图书类别:图书类别由教育局用户统一创建，所有学校共用，以便于检索与统计
3、图书录入
	1)图书由学校管理员录入
	2)图书录入时以条形码作为图书种类的标识

系统使用
1、学校管理员账号
	1)还书：根据图书编号直接执行还书操作，记录操作员信息，相关借书单状态变为“已还”
	2)管理用户
		a)管理学生账号
		b)控制学生账号的使用：禁用、禁止借书
	3)学校设置：本校用户单用户最大借书量、本校单次最长借书时间
	4)图书借阅信息追踪：单本物理图书的基本信息（采购时间、单价、报损时间）、借阅历史、当前状态
	5)学生用户相关借书信息浏览：学生的图书借阅历史、当前借阅情况（“在阅”与“待取”图书列表）
	6)采购录入
	7)书柜管理
	8)图书报损
		a)报损前该物理图书状态必须为“可借”
		b)报损执行后，该物理图书状态变为“已报损”，本校该逻辑图书总量减1，报损量加1
		c)已报损的物理图书不可进入借阅流程

2、学生账号
	1)浏览学校图书
		a)浏览本校图书
		b)可按图书基本信息搜索：书名，作者...
		c)列表界面显示图书是否可借(可借量>0)，对于当前不可借的图书显示其他学生可能的最近还书时间
		d)可进一步查看某一图书的物理分布情况，如：1号10本，2号机5本，图书馆23本，已有18人下单
		e)可以考虑开放对所有学校图书的浏览，以提供“想读(想借但本校没有该图书)”功能
	2)借书
		a)借书限制：同时借书不得超过一定数量，不得同时借阅同一本书（以逻辑图书为单位）
		b)借书单：申请人、申请时间、取书时间、还书时间、还书操作员ID、状态、书ID
		c)借书单状态：待取、在阅、已还、取消
		d)网上申请，线下自提
			1)下借单
			2)下单成功，状态设为“待取”给予取书信息提示，如“3天内到1号机取书”
			3)超时未取，借单取消，状态变为“取消”
			4)取书成功，状态变为“在阅”
			5)还书成功，状态变为“已还”
		f)直接借书
			1)借书成功，生成借书单，状态为“在阅”
			2)还书成功，状态变为“已还”
	3)我的图书
		a)以逻辑图书为单位，以列表的形式展示
		b)展示信息包括：书名，借阅次数、当前状态提示（如：待取）
		c)可查看我对于每一本书(逻辑图书)的借阅历史
	4)缺货(书)登记：以后再慢慢研究
	5)图书举报：暂不实现，上线后根据学生账号所提意见再予以设计实现
3、教育局账号
	1)管理图书类别
		a)图书类别由教育局用户统一创建，所有学校共用，以便于检索与统计
		b)图书类别删除时要求其下没有相关数据
		c)类别需要有“可用”与“不可用”两种状态
		e)当类别的状态为“不可用”时，该类别只可用于检索与统计，不可在其下添加图书
		f)在类别管理中需要看到各类别下图书的种类(同一条形码视为一种书)及总量
	2)查看整体或各校图书概况
	3)查看整体或各校图书采购情况
	4)查看整体或各校图书报损情况
	5)可按图书基本信息搜索：书名，作者...


相关功能细化
物理图书状态：
	已借出：存在于学生手中
	馆藏：存在于图书馆中
	配送中：从图书馆出书运送到书柜上架，或从书柜下架运回到图书馆
	柜藏：存在于书柜中
	已报损：不可进入借阅流程
1、图书录入
	1)相关信息：ISBN(标识逻辑图书)、书名、类别、数量、单价、时间
	2)关于金额：录入与展示以“元”为单位，精确到两位小数；存储与计数以“分”为单位。
	3)录入时根据ISBN检索图书信息是否已存在，若存在则直接显示书名与类别且不允许修改，不存在则需要用户填写书名与类别
	4)录入后信息不可修改（对于录入失误的问题以后再慢慢研究）
	5)录入时需要有与图书数量一致的图书编号(标识物理图书)个数
		a)图书编号可以让用户录入也可以由系统生成提供给用户
		b)图书编号唯一标识每一本物理图书，不可重复
	6)录入时的数据存储情况
		a)逻辑图书信息，没有则新增：ISBN、书名、所属类别编码（外）
		b)录入事件信息：采购时间、数量、单价、总价(计)、逻辑图书ID（外）、学校ID（外）
		c)物理图书信息：图书编号、状态(借出、可借、报损)、学校ID（外）、逻辑图书ID（外）、录入事件ID（外）
		d)本校逻辑图书信息，没有则新增：总量、借出量、待借量（以下单的）、可借量、报损量(不计入总量)、学校ID（外）、逻辑图书ID（外）

2、书柜管理
	1)书柜基本信息：书柜名、地点、学校ID（外）
	2)图书入柜：管理员给书柜加书
	3)图书出柜
		a)学生取书
		b)图书从书柜中下架(管理员操作)



3、查看整体或各校图书概况：查看图书概况>>点击概况浏览图书类别>>点击类别浏览图书列表>>查看物理图书列表>>查看物理图书详情
	1)图书概况（可选学校作为限制条件）：逻辑图书的种类、总量（书本数）
	2)浏览图书类别（可选学校作为限制条件）：逻辑图书的种类、总量（书本数）
	3)浏览图书列表（可选学校作为限制条件）
		a)基本信息：书名、封面、简介
		b)总量、已借量、待借量（以下单的）、可借量
		c)总的借阅次数
		d)可按学校分别显示b)c)
	4)查看物理图书列表（可选学校作为限制条件）：被借次数、状态
	5)查看物理图书详情
		a)采购时间
		b)采购价格
		c)借阅次数
		d)当前状态：被借、可借、已报损
		e)报损时间


4、采购统计（可选时间段），参照图书浏览
5、报损统计（可选时间段），参照图书浏览

后续延伸
一定时段内按逻辑图书或类别进行的图书排行：库存、被借次数、缺书情况(书不够借的情况)、利用率（书的被借情况）



1、管理账号信息（用户名、密码、姓名、账号类型、所属学校ID）
2、学校信息（名称、地址、描述、区位码）
3、操作日志（操作人ID、操作描述、操作表名、操作对象ID、操作类型）
4、图书类别（类别名、类别编码、所属类别ID）
5、逻辑图书（ISBN、书名、作者、出版社、描述、所属类别编码）
6、物理图书（图书编号、采购时间、单价、报损时间、状态、书柜ID、采购人ID、报损人ID、承借人ID、经手人ID、学校ID、逻辑图书ID、录入事件ID）
7、借书单（TRE_User_Book_M主键、物理图书ID、状态、下单时间、取书时间、还书时间、【还书】操作员ID）
8、书柜（书柜名、存放地点、描述、学校ID）
9、采购信息录入（采购数量、采购单价、总价、采购时间、逻辑图书ID、学校ID）
10、学生账号信息（身份证号、密码、姓名、状态、学校ID、当前借书数（包括已借与已下单）、借书数上限(冗余)）

11、学生与图书的关系表（学生ID、逻辑图书ID、下单次数、取书次数、还书次数、当前状态、更新时间、学校ID(冗余)、书名(冗余)）
12、书柜与书的对应关系主表（书柜ID、逻辑图书ID、数量）
13、书柜与书的对应关系明细表（主表ID、物理图书ID）
14、学校与逻辑图书的关系（学校ID、逻辑图书ID、总的借阅次数、总量、已借量、待借量、报损量）